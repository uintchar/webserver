- [1. 版本控制简介](#1-版本控制简介)
  - [1.1. 版本控制起源：`diff&patch`](#11-版本控制起源diffpatch)
  - [1.2. 集中式版本控制](#12-集中式版本控制)
    - [1.2.1. CVS（Concurrent Version System）](#121-cvsconcurrent-version-system)
    - [1.2.2. SVN（Subversion）](#122-svnsubversion)
    - [1.2.3. 集中式版本控制的缺点](#123-集中式版本控制的缺点)
  - [1.3. 分布式版本控制](#13-分布式版本控制)
- [2. git 版本控制](#2-git-版本控制)
  - [2.1. git 安装和初步配置](#21-git-安装和初步配置)
    - [2.1.1. 安装 git](#211-安装-git)
    - [2.1.2. git 初步配置](#212-git-初步配置)
  - [2.2. git 基础](#22-git-基础)
    - [2.2.1. 获取 git 仓库](#221-获取-git-仓库)
    - [2.2.2. 记录每次更新到仓库](#222-记录每次更新到仓库)
    - [2.2.3. 查看提交历史](#223-查看提交历史)
    - [2.2.4. 撤销操作](#224-撤销操作)
    - [2.2.5. 远程仓库的使用](#225-远程仓库的使用)
    - [2.2.6. 打标签](#226-打标签)
    - [2.2.7. git 别名](#227-git-别名)
  - [2.3. git 分支](#23-git-分支)
    - [2.3.1. 分支的新建和合并](#231-分支的新建和合并)
    - [2.3.2. 分支管理](#232-分支管理)
    - [2.3.3. 远程分支](#233-远程分支)

- **参考资料**
  - https://git-scm.com/book/zh/v2
  - https://learngitbranching.js.org/?locale=zh_CN

# 1. 版本控制简介

- 版本控制系统（Version Control System, VCS）是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。

## 1.1. 版本控制起源：`diff&patch`

- `diff`：用来比较两个文件或目录之间的差异。

- `patch`：是`diff`的反向操作。

- **RCS:** 最早的版本控制系统（Revision Control System）
  - RCS的工作原理是在硬盘上保存补丁集（补丁是指文件修订前后的变化）。通过应用所有的补丁，可以重新计算出各个版本的文件内容。

## 1.2. 集中式版本控制

### 1.2.1. CVS（Concurrent Version System）

- 第一个被大规模使用的版本控制系统，诞生于1985年
- 不支持原子化提交，会导致客户端向服务器提交不完整的数据
- 网络传输效率低

### 1.2.2. SVN（Subversion）

- 创建一个更好用的版本控制系统以取代CVS
- 实现了原子化提交，优化了服务器上内容的提交
- 在局域网之外使用SVN，存在较大的网络延迟

### 1.2.3. 集中式版本控制的缺点

- 提交通道狭窄：
  - 排队提交，不能同时修改，提交缺乏质量控制
  - 缺乏代码门禁，在本地代码提交到服务器之间 缺乏检查防护
- 数据安全性差：
  - 单点故障
  - 黑客攻击

## 1.3. 分布式版本控制

- 在分布式版本控制系统中（Distributed Version Control System, DVCS），像Git、Mercurial、Bazaar 以及 Darcs 等，客户端并不只提取最新版本的文件快照， 而是把代码仓库完整地镜像下来，包括完整的历史记录。这么一来，任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像出来的本地仓库恢复。因为每一次的克隆操作，实际上都是一次对代码仓库的完整备份

- CVCS记录差异，DVCS记录快照

# 2. git 版本控制

## 2.1. git 安装和初步配置

### 2.1.1. 安装 git

- Linux
- Windows
- MacOS

### 2.1.2. git 初步配置

- `git config`

## 2.2. git 基础

### 2.2.1. 获取 git 仓库

- `git init` : 在已存在的目录中初始化仓库
- `git clone` : 克隆现有仓库

### 2.2.2. 记录每次更新到仓库

- `git status` : 检查当前文件状态：
- `git add` : 跟踪新文件和暂存已修改的文件：
- `git diff` : 查看已暂存和未暂存的修改
- `git commit` : 提交更新
- `git rm` : 移除文件
- `git mv` : 移动文件
- `.gitignore` : 忽略文件

### 2.2.3. 查看提交历史

- `git log` : 查看提交历史
- `git reflog`

### 2.2.4. 撤销操作

- `git commit -amend`
- `git reset HEAD <filr> ` : 取消暂存的文件
- `git reset --hard commit_id`
- `git checkout -- <file>` : 撤销对文件的修改

### 2.2.5. 远程仓库的使用

- `git remote [-v]`
- `git remote add <shortname> <url>`
- `git fetch <remote>`
- `git pull`
- `git push <remote> <branch>`
- `git remote show <remote>`
- `git remote rename`
- `git remote remove`

### 2.2.6. 打标签

- `git tag`
- `git tag -a v1.4 -m "my version 1.4"`
- `git push <remote> --tags`
- `git show`
- `git tag -d <tagname>`
- `git checkout`

### 2.2.7. git 别名

- `git config --global alias.ci commit`

## 2.3. git 分支

### 2.3.1. 分支的新建和合并

- `git branch <new_branch_name>` : 创建新分支
- `git checkout <branch_name>` : 切换到指定的分支
- `git checkout -b <new_branch_name>` : 创建新分支并切换到新分支
- `git branch -d <branch_name>` : 删除指定的分支
- `git merge <branch_name>` : 将当前分支与指定分支合并
- `git log --oneline --decorate` : 查看各个分支当前所指向的对象
- `git log --oneline --decorate --graph --all` : 输出提交历史、各个分支的指向以及项目的分支分叉情况

### 2.3.2. 分支管理

- `git branch` : 得到当前所有分支的一个列表
- `git branch -v` : 查看每一个分支的最后一次提交
- `git branch --merged` : 查看已合并到当前分支的所有分支
- `git branch --no-merged` : 查看未合并到当前分支的所有分支

### 2.3.3. 远程分支

- `git ls -remote <remote>` : 获得远程引用的完整列表
- `git remote show <remote>` : 
- `git fetch <remote>` : 与给定的远程仓库同步数据
- `git push <remote> <branch>` : 
- `` : 
- `` : 
- `` : 
- `` : 


